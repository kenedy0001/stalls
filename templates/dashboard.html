{% extends "base.html" %} 
{% block content %}
<div class="bg-gray-100 font-sans text-gray-700">
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <!-- Added h-screen to ensure 100% viewport height -->
        <aside class="fixed right-0 sidebar w-56 bg-indigo-700 text-white py-5 flex flex-col shadow-lg flex-shrink-0
                      fixed md:static top-0 left-0 h-screen transform -translate-x-full md:translate-x-0
                      transition-transform duration-300 ease-in-out z-50">
            <div class="text-center pb-5 border-b border-indigo-800 mb-4">
                <div><i class="material-icons text-3xl rounded-full bg-gray-200 p-1 text-gray-700">person</i> </div>
                <div>
                    {% if user.is_authenticated %}
                        <div class="card">
                            <h2>{{ user.phone_number }}!</h2>
                            <p>You are logged in.</p>
                            <a href="{% url 'logout' %}">Logout</a> 
                        </div>
                    {% else %}
                        <div class="card">
                            <a href="{% url 'login' %}">Logout</a>
                        </div>
                    {% endif %}
                </div>               
            </div>
            
            <nav class="sticky top-0 list-none p-0 flex-grow">
                <ul>
                    <li class="mb-1">
                        <a href="#" class="flex items-center text-white px-5 py-3 rounded-r-full hover:bg-indigo-800 transition-colors duration-200 font-bold bg-indigo-800">
                            <i class="material-icons mr-3 text-xl">home</i>
                            <span>Rooms & Stalls</span>
                        </a>
                    </li> 
                    <li class="mb-1">
                        <a href="#" class="flex items-center text-white px-5 py-3 rounded-r-full hover:bg-indigo-800 transition-colors duration-200">
                            <i class="material-icons mr-3 text-xl">description</i>
                            <span>Rooms</span>
                        </a>
                    </li>
                    <li class="mb-1">
                        <a href="#" class="flex items-center text-white px-5 py-3 rounded-r-full hover:bg-indigo-800 transition-colors duration-200">
                            <i class="material-icons mr-3 text-xl">bar_chart</i>
                            <span>Stalls</span>
                        </a>
                    </li>
                    <li class="mb-1">
                        <a href="#" class="flex items-center text-white px-5 py-3 rounded-r-full hover:bg-indigo-800 transition-colors duration-200">
                            <i class="material-icons mr-3 text-xl">grid_on</i>
                            <span>Rentals</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside> 
        <!-- Main Content -->
        <div class="flex-grow flex flex-col">
            <header class="sticky top-0 bg-white p-4 md:px-8 flex justify-between items-center border-b border-gray-200 shadow-md z-40">
                <button class="menu-toggle md:hidden text-gray-700 text-3xl cursor-pointer p-2 rounded-md hover:bg-gray-100 transition-colors duration-200" id="menuToggle" aria-label="Toggle Sidebar Menu">
                    <i class="material-icons">menu</i>
                </button> 
                <form class="flex-grow mr-4">
                    <input type="text" name="q" placeholder="Search rooms ..."
                        class="w-full px-4 py-2 border rounded"
                        hx-get="{% url 'dashboard' %}"
                        hx-target="#rooms"
                        hx-trigger="keyup changed delay:500ms" />
                </form>

                <!-- Cart Section -->
                <div class="relative">
                    <i class="material-icons">login</i>
                    <a href="{% url 'login' %}">login</a> 
                </div> 

            </header>

            <main id="rooms" class="p-6 md:p-8 flex-grow overflow-auto"> 
                {% include "rooms.html" %}
            </main>
        </div>
    </div>
</div>
{% endblock %} 